# AnkAi Caddyfile - Reverse Proxy with Auto-HTTPS
#
# Usage:
# 1. With a domain (recommended): Replace "your-domain.com" with your actual domain
#    Caddy will automatically obtain SSL certificates from Let's Encrypt
#
# 2. Without a domain: Comment out the domain block and uncomment the :80 block below
#    This will serve over HTTP only (no HTTPS)
#
# After editing, restart Caddy: docker compose -f docker-compose.prod.yml restart caddy

# AnkAi with HTTPS via Let's Encrypt
ainki.duckdns.org {
    # API routes
    handle /api/* {
        reverse_proxy backend:8000
    }

    # Frontend (catch-all)
    handle {
        reverse_proxy frontend:80
    }
}
